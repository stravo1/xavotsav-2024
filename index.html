<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#7B4125" />
    <title>Xavotsav - 2024</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="tailwindClasses.css" />
    <link rel="stylesheet" href="globalStyles.css" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik+Glitch&family=Rubik:wght@800&display=swap"
      rel="stylesheet"
    />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <link
      rel="stylesheet"
      href="./assets/locomotive-scroll/locomotive-scroll.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link rel="stylesheet" href="./custom-tags/mobile-menu/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="./custom-tags/mobile-menu/component.js"></script>
  </head>
  <body>
    <custom-mobile-menu />
    <div class="mobile">
      <div
        class="top-bar w-full fixed top-0 p-1rem flex justify-between box-border z-4"
      >
        <img height="35px" src="./assets/logo/logo.png" />
        <span
          class="material-symbols-rounded cursor-pointer"
          onclick="openMenu()"
        >
          menu
        </span>
      </div>
      <div
        data-scroll-section
        id="first"
        class="screen relative content flex flex-col justify-center items-start w-full p-3rem box-border"
      >
        <div
          data-scroll-speed="1"
          class="background absolute inset-0 w-full h-full"
        >
          <img
            class="w-full h-full object-cover z-0"
            src="./assets/images/landing/background-3.jpg"
          />
          <div
            class="absolute inset-0 black-bg w-full h-full opacity-40 z-1"
          ></div>
        </div>
        <span
          class="display text-2xl mt-2rem z-5"
          data-scroll
          data-scroll-speed="3"
          >Xavotsav '24</span
        >
        <span
          class="about text-lg font-light z-5"
          data-scroll
          data-scroll-speed="3"
        >
          Lorem ipsum dolor sit amet consectetur. Odio enim commodo dignissim
          diam eget. Vel velit mauris nisi pharetra id. In fusce feugiat nunc
          mauris enim ipsum dictumst pretium convallis.
        </span>
        <button class="z-5" data-scroll="" data-scroll-speed="2.5">
          Call To Action
        </button>
        <div
          class="absolute infinite-anim bottom-0 z-5 mb-15p flex justify-center animate__animated animate__bounce animate__infinite animate__slower"
        >
          <span class="material-symbols-rounded">
            keyboard_double_arrow_down
          </span>
        </div>
      </div>
      <div
        id="second"
        class="screen relative content flex flex-col gap-1rem justify-center items-start w-full p-3rem box-border"
        data-scroll-section=""
      >
        <div
          data-scroll-speed="1"
          class="background absolute inset-0 w-full h-full"
        >
          <img
            class="w-full h-full object-cover z-0"
            src="./assets/images/landing/star-night.jpg"
          />
          <div
            class="absolute inset-0 black-bg w-full h-full opacity-40 z-1"
          ></div>
        </div>
        <div
          data-scroll
          data-scroll-repeat
          data-scroll-call="secondVisible"
          class="z-5 w-full"
        >
          <!-- Slider main container -->
          <div class="swiper w-full" data-scroll data-scroll-speed="3">
            <!-- Additional required wrapper -->
            <div class="swiper-wrapper w-full">
              <!-- Slides -->
              <div class="swiper-slide">
                <div
                  class="flex p-1rem w-full flex flex-col justify-center items-start gap-1rem"
                >
                  <div class="holder"></div>
                  <div class="display text-2xl">Star Night</div>
                  <div class="text-md">
                    Lorem ipsum dolor sit amet consectetur. Odio enim commodo
                    dignissim diam eget. Vel velit mauris nisi pharetra id. In
                    fusce feugiat nunc mauris enim ipsum dictumst pretium
                    convallis.
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div
                  class="flex p-1rem w-full flex flex-col justify-center items-start gap-1rem"
                >
                  <div class="holder"></div>
                  <div class="display text-2xl">Star Night</div>
                  <div class="text-md">
                    Lorem ipsum dolor sit amet consectetur. Odio enim commodo
                    dignissim diam eget. Vel velit mauris nisi pharetra id. In
                    fusce feugiat nunc mauris enim ipsum dictumst pretium
                    convallis.
                  </div>
                </div>
              </div>
              <div class="swiper-slide">
                <div
                  class="flex p-1rem w-full flex flex-col justify-center items-start gap-1rem"
                >
                  <div class="holder"></div>
                  <div class="display text-2xl">Star Night</div>
                  <div class="text-md">
                    Lorem ipsum dolor sit amet consectetur. Odio enim commodo
                    dignissim diam eget. Vel velit mauris nisi pharetra id. In
                    fusce feugiat nunc mauris enim ipsum dictumst pretium
                    convallis.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        data-scroll-section
        id="third"
        class="screen relative content flex flex-col gap-1rem justify-center items-start w-full p-3rem box-border"
      >
        <div
          data-scroll-speed="1"
          class="background absolute inset-0 w-full h-full"
        >
          <img
            class="w-full h-full object-cover z-0"
            src="./assets/images/landing/background.jpg"
          />
          <div
            class="absolute inset-0 black-bg w-full h-full opacity-40 z-1"
          ></div>
        </div>
        <span
          class="display text-2xl mt-2rem z-5"
          data-scroll
          data-scroll-speed="3"
          data-scroll-repeat
          data-scroll-call="thirdVisible"
          >Lorem Ipsum</span
        >
        <span
          class="about text-lg font-light z-5"
          data-scroll
          data-scroll-speed="3"
        >
          Lorem ipsum dolor sit amet consectetur. Odio enim commodo dignissim
          diam eget. Vel velit mauris nisi pharetra id. In fusce feugiat nunc
          mauris enim ipsum dictumst pretium convallis.
        </span>
      </div>
    </div>

    <div class="desktop" data-scroll-container>
      <section
        class="section-1 intro"
        data-scroll-section=""
        id="first-desktop"
      >
        <!-- <div class="glitch" data-text="Xavotsav'24">Xavotsav'24</div> -->
        <video
          id="intro-video"
          src="/assets/images/landing/xavotsav-2018-AfterMovie.mp4"
          autoplay
          loop
          disableremoteplayback=""
          preload="auto"
          controlslist="nodownload, noremoteplayback, nofullscreen"
        ></video>
      </section>

      <section
        class="section-2 about-desktop"
        data-scroll-section=""
        id="second-desktop"
      >
        <div
          class="about-texts section-texts"
          data-scroll=""
          data-scroll-speed="2"
          data-scroll-repeat
          data-scroll-call="secondVisible"
        >
          <div class="typing-text-wrapper">
            <header class="about-header typing-text">Lorem Ipsum</header>
            <span class="cursor"></span>
          </div>
          <p>
            Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod quas
            quae, quo necessitatibus eveniet maiores fugit debitis cupiditate
            aspernatur excepturi quis aperiam recusandae culpa praesentium.
            Mollitia commodi dolorum facilis quos?
          </p>
        </div>
        <div class="about-media" data-scroll="" data-scroll-speed="1">
          <img src="/assets/images/landing/head-of-michelangelo-removebg-preview.png" alt="" />
        </div>
      </section>

      <div class="infinite-scrolling" data-scroll-section="">
        <div class="marquee" data-scroll="" data-scroll-speed="3">
          <div class="track track-1">
            <div class="marquee-texts">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam
              quod corrupti, ullam vitae aperiam odio dolorum aliquid rerum
              suscipit quasi! Lorem ipsum dolor sit amet consectetur adipisicing
              elit. Totam quod corrupti, ullam vitae aperiam odio dolorum
              aliquid rerum suscipit quasi!
            </div>
          </div>
        </div>

        <div class="marquee" data-scroll>
          <div class="track track-2">
            <div class="marquee-texts">
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Totam
              quod corrupti, ullam vitae aperiam odio dolorum aliquid rerum
              suscipit quasi! Lorem ipsum dolor sit amet consectetur adipisicing
              elit. Totam quod corrupti, ullam vitae aperiam odio dolorum
              aliquid rerum suscipit quasi!
            </div>
          </div>
        </div>
      </div>

      <section class="section-3" data-scroll-section="" id="third-desktop">
        <div class="section-media" data-scroll="">
          <div class="michelango"></div>
        </div>
        <div class="section-texts">
          <div class="typing-text-wrapper">
            <header
              class="typing-text"
              data-scroll
              data-scroll-repeat
              data-scroll-call="thirdVisible"
            >
              Lorem Ipsum
            </header>
            <span class="cursor"></span>
          </div>
          <p>
            Lorem ipsum dolor sit, amet consectetur adipisicing elit.
            Voluptatum, expedita nobis! Obcaecati veniam doloribus, et alias
            nisi, aperiam delectus sed nihil, quas tempora eaque repellat
            veritatis aspernatur animi soluta aut?
          </p>
        </div>
      </section>
      <!-- <section class="section-4"></section> -->
    </div>
  </body>
  <script src="script.js"></script>
  <script src="./custom-tags/mobile-menu/script.js"></script>
  <script src="./assets/locomotive-scroll/locomotive-scroll.min.js"></script>
  <script>
    let isDesktop = screen.width > 850;
    let loaded = false;
    let secondEntered = false;
    let thirdEntered = false;
    let sectionPara = document.querySelectorAll(".section-texts p");
    const locoScroll = new LocomotiveScroll({
      el: document.querySelector(isDesktop ? ".desktop" : ".mobile"),
      smooth: true,
      lerp: "0.1",
      smartphone: { smooth: true },
      touchMultiplier: isDesktop ? 1 : 2,
    });
    setTimeout(() => {
      locoScroll.destroy();
    }, 0);
    setTimeout(() => {
      locoScroll.init();
      locoScroll.on("scroll", () => {
        if (loaded) {
          setTimeout(() => {
            document.querySelector(".infinite-anim").classList.add("opacity-0");
          }, 500);
        } else {
          loaded = true;
        }
      });
      locoScroll.on("call", (event, state) => {
        if (event == "secondVisible") {
          if (state == "enter" && isDesktop) {
            sectionPara[0].style.opacity = "1";
            sectionPara[0].style.left = "0";
          }
          if (state == "exit" && isDesktop) {
            sectionPara[0].style.opacity = "0";
            sectionPara[0].style.left = "-25px";
            // typeArea.innerHTML = "";
          }

          if (state == "enter" && !isDesktop) {
            secondEntered = true;
            setTimeout(() => {
              locoScroll.scrollTo(
                document.querySelector(`#second-${isDesktop ? "desktop" : ""}`)
              );
            }, 1);
          }
          if (state == "exit" && !isDesktop) {
            secondEntered = false;
            setTimeout(() => {
              if (!thirdEntered) {
                locoScroll.scrollTo(
                  document.querySelector(`#first-${isDesktop ? "desktop" : ""}`)
                );
              }
            }, 1);
          }
        }
        if (event == "thirdVisible") {
          if (state == "enter" && isDesktop) {
            sectionPara[1].style.opacity = "1";
            sectionPara[1].style.left = "0";
          }
          if (state == "exit" && isDesktop) {
            sectionPara[1].style.opacity = "0";
            sectionPara[1].style.left = "-25px";
            // typeArea.innerHTML = "";
          }
          if (state == "enter" && !isDesktop) {
            thirdEntered = true;
            setTimeout(() => {
              locoScroll.scrollTo(
                document.querySelector(`#third-${isDesktop ? "desktop" : ""}`)
              );
            }, 1);
          }
          if (state == "exit" && !isDesktop) {
            thirdEntered = false;
            setTimeout(() => {
              locoScroll.scrollTo(
                document.querySelector(`#second-${isDesktop ? "desktop" : ""}`)
              );
            }, 1);
          }
        }
      });
    }, 50);
    setTimeout(() => {
      locoScroll.update();
    }, 1000);
    window.scroll = locoScroll;
  </script>
  <script>
    const swiper = new Swiper(".swiper", {
      speed: 400,
      spaceBetween: 100,
      autoplay: {
        delay: 2500,
      },
    });
  </script>
</html>
